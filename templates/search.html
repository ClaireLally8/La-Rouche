{% extends "layout.html" %}
{% block body %}
<div class="container w-100">

    <div class="row card-panel grey lighten-5">
        <div class="col-3 m4 s12">
            <div class="center-align">
                <a href="{{ url_for('new_patient') }}" class="mb-1 justify-content-center btn">
                    <i class="fas fa-user-plus new-user"></i>
                </a>
            </div>
        </div>

        <div class="col-6 m4 s12">    
            <form action="{{ url_for('search') }}" method="POST">
            <div class="center-align">
                <div class="input-field">
                    <i class="prefix light-blue-text text-darken-4"></i>
                    <input type="text" placeholder="Search Patients..." name="query" id="query" minlength="3" class="validate" required></input>
                    <button type="submit" class="blue lighten-3 btn">
                        <i class="fas fa-search left"></i>Search
                    </button>
                </div>
            </div>
            </form>
        </div>

        <div class="col-3 m4 s12">
            <a href="{{ url_for('index') }}" class="red lighten-3 btn">Reset Search</a>
        </div>
            
    </div>


<table class="table table-bordered table-striped">
    <thead class="mb-5">
        <tr>
            <th>Full Name</th>
            <th>Email Address</th>
            <th>Patient ID</th>
        </tr>
    </thead>

    <tbody>
        {% for patients in patients %}
        <tr>
            <td><a href="{{url_for('dashboard', patient_id=patients._id)}}">{{patients.full_name}}</a></td>
            <td>{{patients.email}}</td>
            <td>{{patients.patient_id}}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
</div>
{% endblock %}